<h1>Typhon</h1>

<!-- Opciones de Menu -->
<div class="row">
  <div class="col-md-8 mt-4">
    <ul class="list-group">
      <li class="list-group-item list-group-item-action" *ngFor="let option of menuArry" (click)="optionMenu(option.id)">
        {{option.title}}
      </li>
    </ul>
  </div>
</div>

<!-- Buscar palet -->
<div class="form-group mt-4" *ngIf="option==1">
  <input type="text" style="width:200px;" [(ngModel)]="sendIdPalet" placeholder="Id Palet" class="form-control" required>
  <div class="row mt-4"></div>
  <button (click)="getPalet()" *ngIf="sendIdPalet>0;" class="btn btn-primary">Buscar Palet</button>

  <div class="row mt-4"></div>
  <table class="table table-striped" *ngIf="palet.idPalet>0;">
    <thead>
      <tr>
        <th>Id Palet</th>
        <th>Numero Estante</th>
        <th>Codigo Palet</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{{ palet.idPalet }}</td>
        <td>{{ palet.numeroEstante }}</td>
        <td>{{ palet.codigoPalet }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Lista de recepciones pendientes -->
<div class="form-group mt-4" *ngIf="option==2">
  <button (click)="getListPendingReceptions()" class="btn btn-primary">List Pending Receptions </button>

  <div class="row mt-4">
    <div class="col-md-8">
      <ul class="list-group">
        <li class="list-group-item list-group-item-action" *ngFor="let reception of listPendingReception | paginate: { itemsPerPage:5, currentPage: p } ">
          {{reception.descripcionPromocion}}
        </li>
      </ul>
      <div class="row mt-4"></div>
      <pagination-controls (pageChange)="p =$event"></pagination-controls>
    </div>
  </div>
</div>

<!-- Cargar palet de recepciones -->
<div class="form-group mt-4" *ngIf="option==3">
  <input type="text" style="width:200px;" [(ngModel)]="idReception" placeholder="Id Reception" class="form-control">
  <div class="row mt-4"></div>
  <button (click)="getLoadReceptionPalets()" class="btn btn-primary">Load Reception Palets</button>

  <div class="row">
    <div class="col-md-8 mt-4">
      <ul class="list-group">
        <li class="list-group-item list-group-item-action" *ngFor="let pale of palets | paginate: { itemsPerPage:5, currentPage: p } ">
          {{pale.idPalet}} - {{pale.codigoPalet}} - {{pale.fechaRecepcionString}}
        </li>
      </ul>
      <div class="row mt-4"></div>
      <pagination-controls (pageChange)="p =$event"></pagination-controls>
    </div>
  </div>
</div>

<!-- Lista de versiones por recepcionar -->
<div class="form-group mt-4" *ngIf="option==4">
  <input type="text" style="width:200px;" [(ngModel)]="idReception" placeholder="Id Reception" class="form-control">
  <div class="row mt-4"></div>
  <button (click)="getListVersionsReception()" *ngIf="idReception>0;" class="btn btn-primary">Lista de versiones por recepcionar</button>

  <div class="row">
    <div class="col-md-8 mt-4">
      <ul class="list-group">
        <li class="list-group-item list-group-item-action" *ngFor="let reception of objetoArray | paginate: { itemsPerPage:5, currentPage: p } ">
          {{reception.idVersionProducto}} - {{reception.nombre}}
        </li>
      </ul>
      <div class="row mt-4"></div>
      <pagination-controls (pageChange)="p =$event"></pagination-controls>
    </div>
  </div>
</div>

<!-- Lista versiones en container -->
<div class="form-group mt-4" *ngIf="option==5">
  <input type="text" style="width:200px;" [(ngModel)]="idContainer" placeholder="Id Container" class="form-control">
  <div class="row mt-4"></div>
  <button (click)="getVersionsInContainer()" *ngIf="idContainer>0;" class="btn btn-primary">Lista versiones en container</button>

  <div class="row">
    <div class="col-md-8 mt-4">
      <ul class="list-group">
        <li class="list-group-item list-group-item-action" *ngFor="let version of versionProduct | paginate: { itemsPerPage:5, currentPage: p } ">
          {{version.nombre}} -
          <img (click)="openModal(version, fotoProductoModal)" src="{{ version.producto.urlImagenPathB }}"
            width="150px" height="150px" />
        </li>
      </ul>
      <div class="row mt-4"></div>
      <pagination-controls (pageChange)="p =$event"></pagination-controls>
    </div>
  </div>
</div>

<ng-template #fotoProductoModal>
  <h4 style="text-align:center;">{{version.nombre}}</h4>
  <img src="{{ version.producto.urlImagenPathB }}" width="100%" height="100%" />
</ng-template>

<div class="alert alert-warning" role="alert" *ngIf="error;">
  No hay resultados a mostrar
</div>